# VNF配置示例文件
# 展示不同的配置项格式和表单项属性

metadata:
    name: "66666"
    version: "27-71"
    description: "这是一个示例VNF配置文件"
    author: "VNF Team"
groups:
    network: "网络配置"
    compute: "计算资源"
    storage: "存储配置"
    security: "安全设置"
# 基础配置项
server_name:
    type: "string"
    default: "vnf-server-01"
    description: "服务器名称"
    required: true
    group: "compute"
    order: 1
    validation:
        min_length: 3
        max_length: 50
        pattern: "^[a-zA-Z0-9-]+$"
port:
    type: "number"
    default: 8080
    description: "服务端口"
    required: true
    group: "network"
    order: 2
    validation:
        min: 1024
        max: 65535
enabled:
    type: "boolean"
    default: true
    description: "是否启用服务"
    required: false
    group: "compute"
    order: 3
# 复杂配置项
database_config:
    type: "object"
    description: "数据库配置"
    group: "storage"
    order: 4
    properties:
        host:
            type: "string"
            default: "localhost"
            description: "数据库主机"
        port:
            type: "number"
            default: 3306
            description: "数据库端口"
        username:
            type: "string"
            default: "root"
            description: "数据库用户名"
            hidden: true
        password:
            type: "string"
            description: "数据库密码"
            hidden: true
            required: true
# 数组配置项
allowed_ips:
    type: "array"
    description: "允许访问的IP地址列表"
    group: "security"
    order: 5
    default: ["127.0.0.1", "192.168.1.0/24"]
    validation:
        min_items: 1
        max_items: 100
# 枚举配置项
log_level:
    type: "string"
    description: "日志级别"
    group: "compute"
    order: 6
    default: "info"
    options: ["debug", "info", "warn", "error", "fatal"]
    validation:
        enum: ["debug", "info", "warn", "error", "fatal"]
# 条件显示配置项
ssl_enabled:
    type: "boolean"
    default: false
    description: "是否启用SSL"
    group: "security"
    order: 7
ssl_cert_path:
    type: "string"
    description: "SSL证书路径"
    group: "security"
    order: 8
    hidden_condition: "ssl_enabled == false"
    required: true
# 高级验证配置项
email:
    type: "string"
    description: "管理员邮箱"
    group: "security"
    order: 9
    validation:
        pattern: "^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$"
        message: "请输入有效的邮箱地址"
# 分组配置项
network_interfaces:
    type: "array"
    description: "网络接口配置"
    group: "network"
    order: 10
    items:
        type: "object"
        properties:
            name:
                type: "string"
                description: "接口名称"
                required: true
            ip_address:
                type: "string"
                description: "IP地址"
                required: true
            subnet_mask:
                type: "string"
                description: "子网掩码"
                required: true
            gateway:
                type: "string"
                description: "网关地址"
                required: false
# 动态配置项
max_connections:
    type: "number"
    description: "最大连接数"
    group: "compute"
    order: 11
    default: 1000
    validation:
        min: 1
        max: 10000
    can_be_update: true
# 可选配置项
backup_enabled:
    type: "boolean"
    default: false
    description: "是否启用备份"
    group: "storage"
    order: 12
    optional: true
backup_schedule:
    type: "string"
    description: "备份计划（cron表达式）"
    group: "storage"
    order: 13
    hidden_condition: "backup_enabled == false"
    default: "0 2 * * *"
    validation:
        pattern: "^((\\*|\\?|\\d+)(/\\d+)?(\\s+(\\*|\\?|\\d+)(/\\d+)?){5})$"
        message: "请输入有效的cron表达式"
